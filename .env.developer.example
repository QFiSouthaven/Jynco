# Video Foundry - Developer Mode Configuration
# =============================================
# This configuration is for LOCAL DEVELOPMENT and RESEARCH
# Flexible security for rapid iteration - NOT FOR PRODUCTION!

# Execution Mode (REQUIRED)
JYNCO_EXECUTION_MODE=developer

# ‚ö†Ô∏è  DEVELOPER MODE WARNINGS:
# - This mode is NOT suitable for production deployments
# - Security controls are relaxed for development flexibility
# - Only use on trusted, local networks
# - Never use real production credentials in this mode

# ============================================================================
# DATABASE (REQUIRED)
# ============================================================================
DATABASE_URL=postgresql://postgres:password@localhost:5432/videofoundry

# Row-Level Security (Optional in developer mode)
ENABLE_DATABASE_RLS=false

# ============================================================================
# CACHE & MESSAGE QUEUE (REQUIRED)
# ============================================================================
REDIS_URL=redis://localhost:6379/0
RABBITMQ_URL=amqp://guest:guest@localhost:5672/

# ============================================================================
# STORAGE (Local by default - no cloud required!)
# ============================================================================
STORAGE_TYPE=local
LOCAL_STORAGE_PATH=./videos

# Optional: Use S3 for testing cloud integration
# STORAGE_TYPE=s3
# S3_BUCKET=video-foundry-dev
# AWS_ACCESS_KEY_ID=test
# AWS_SECRET_ACCESS_KEY=test
# AWS_ENDPOINT_URL=http://localhost:9000  # For MinIO/LocalStack

# ============================================================================
# SECRETS MANAGEMENT (Optional in developer mode)
# ============================================================================
# Can use .env file instead of vault for ease of development
# ‚ö†Ô∏è  WARNING: .env files are insecure - never use for real credentials!

# Optional vault configuration for testing:
# VAULT_ADDR=http://localhost:8200
# VAULT_TOKEN=dev-token

# ============================================================================
# AUTHENTICATION (Optional in developer mode)
# ============================================================================
# Single-user mode - no IAM required

# Optional: Enable auth for testing
# OIDC_PROVIDER_URL=http://localhost:8080/auth/realms/videofoundry
# OIDC_CLIENT_ID=video-foundry-dev
# OIDC_CLIENT_SECRET=dev-secret

# Session Management
SECRET_KEY=dev-secret-key-change-me
SESSION_TIMEOUT=86400  # 24 hours for development

# ============================================================================
# SECURITY CONTROLS (Relaxed for development)
# ============================================================================

# Sandboxing (Still enabled for safety, but relaxed)
SANDBOX_TYPE=docker  # gvisor or firecracker for stricter testing

# Network Policy (Allowed but logged)
NETWORK_EGRESS=allowed

# Workflow Vetting (Log and warn only - doesn't block)
WORKFLOW_VETTING_STRICT=false
WORKFLOW_VETTING_MODE=warn  # log warnings but allow execution

# Audit Logging (Basic only)
ENABLE_AUDIT_LOGGING=false
LOG_LEVEL=DEBUG  # Verbose logging for development

# ============================================================================
# APPLICATION
# ============================================================================
ENVIRONMENT=development
CORS_ORIGINS=http://localhost:5173,http://localhost:3000
DEBUG=true

# ============================================================================
# AI SERVICES
# ============================================================================
# No API keys required for local ComfyUI development
COMFYUI_URL=http://localhost:8188

# Optional: Add API keys for testing cloud integrations
# RUNWAY_API_KEY=your_test_key
# STABILITY_API_KEY=your_test_key

# ============================================================================
# DEVELOPMENT TOOLS
# ============================================================================
# Hot reload
RELOAD=true

# Disable caching for development
DISABLE_CACHE=true

# Mock external services (optional)
MOCK_EXTERNAL_APIS=false

# ============================================================================
# QUICK START GUIDE
# ============================================================================
# 1. Copy this file to .env:
#    cp .env.developer.example .env
#
# 2. Start services:
#    make up
#
# 3. Access the app:
#    Frontend: http://localhost:5173
#    Backend:  http://localhost:8000/docs
#    ComfyUI:  http://localhost:8188
#
# 4. No vault, no cloud storage, no IAM needed!
#    Just start coding! üöÄ

# ============================================================================
# MIGRATING TO PRODUCTION
# ============================================================================
# Before deploying to production:
# 1. Change JYNCO_EXECUTION_MODE to 'production' or 'self-hosted-production'
# 2. Configure secrets vault (required)
# 3. Set up cloud storage (required for production)
# 4. Configure IAM/authentication (required for multi-user)
# 5. Use 'gvisor' or 'firecracker' sandbox
# 6. Set NETWORK_EGRESS=blocked (production) or restricted (self-hosted)
# 7. Enable strict workflow vetting
# 8. Never use .env files with real production credentials!
#
# See .env.production.example or .env.self-hosted.example for details
