# Video Foundry - Production Mode Configuration
# ==============================================
# This configuration is for MULTI-TENANT SAAS deployments
# Maximum security - all protective measures enabled

# Execution Mode (REQUIRED)
JYNCO_EXECUTION_MODE=production

# ============================================================================
# SECRETS MANAGEMENT (REQUIRED in production)
# ============================================================================
VAULT_ADDR=https://vault.example.com
VAULT_TOKEN=hvs.XXXXXXXXXXXXXXXXXXXXXXXX
# Or use AppRole authentication:
# VAULT_ROLE_ID=xxxxx-xxxxx-xxxxx
# VAULT_SECRET_ID=xxxxx-xxxxx-xxxxx

# ============================================================================
# DATABASE (REQUIRED)
# ============================================================================
DATABASE_URL=postgresql://user:password@postgres.example.com:5432/videofoundry
ENABLE_DATABASE_RLS=true  # Row-Level Security REQUIRED in production

# ============================================================================
# CACHE & MESSAGE QUEUE (REQUIRED)
# ============================================================================
REDIS_URL=redis://redis.example.com:6379/0
RABBITMQ_URL=amqp://user:password@rabbitmq.example.com:5672/

# ============================================================================
# CLOUD STORAGE (REQUIRED in production)
# ============================================================================
S3_BUCKET=video-foundry-production
AWS_ACCESS_KEY_ID=AKIAXXXXXXXXX
AWS_SECRET_ACCESS_KEY=xxxxxxxxxxxxxxxxxx
AWS_REGION=us-east-1

# ============================================================================
# IAM / AUTHENTICATION (REQUIRED in production)
# ============================================================================
OIDC_PROVIDER_URL=https://auth.example.com
OIDC_CLIENT_ID=video-foundry-prod
OIDC_CLIENT_SECRET=xxxxxxxxxxxxxxxxxx
OIDC_REDIRECT_URI=https://videofoundry.example.com/auth/callback

# Session Management
SECRET_KEY=CHANGE-THIS-TO-A-SECURE-RANDOM-STRING-IN-PRODUCTION
SESSION_TIMEOUT=3600  # 1 hour

# Multi-Factor Authentication
ENABLE_MFA=true

# ============================================================================
# SECURITY CONTROLS
# ============================================================================

# Sandboxing (REQUIRED: gvisor or firecracker)
SANDBOX_TYPE=gvisor
# SANDBOX_TYPE=firecracker

# Network Policy (MUST be blocked in production)
NETWORK_EGRESS=blocked

# Workflow Vetting (Strict allow-list only)
WORKFLOW_VETTING_STRICT=true

# Audit Logging
ENABLE_AUDIT_LOGGING=true
AUDIT_LOG_PATH=/var/log/videofoundry/audit.log

# ============================================================================
# APPLICATION
# ============================================================================
ENVIRONMENT=production
CORS_ORIGINS=https://videofoundry.example.com
LOG_LEVEL=INFO

# ============================================================================
# AI SERVICES (Optional - for cloud AI providers)
# ============================================================================
RUNWAY_API_KEY=your_runway_key_here
STABILITY_API_KEY=your_stability_key_here

# ComfyUI (for internal processing)
COMFYUI_URL=http://comfyui-internal:8188

# ============================================================================
# MONITORING & ALERTING (Recommended)
# ============================================================================
SENTRY_DSN=https://xxxxx@sentry.io/xxxxx
PROMETHEUS_ENABLED=true

# ============================================================================
# NOTES
# ============================================================================
# - ALL values marked REQUIRED must be set or the application will fail to start
# - Use secrets vault for all sensitive values in production
# - Never commit this file with real credentials to version control
# - Rotate credentials regularly
# - Review security logs daily
