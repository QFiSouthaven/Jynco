# =============================================================================
# VIDEO FOUNDRY - PRODUCTION MODE CONFIGURATION
# =============================================================================
# This file contains the required environment variables for PRODUCTION mode
# Copy to .env and fill in with your actual values

# =============================================================================
# EXECUTION MODE
# =============================================================================
JYNCO_EXECUTION_MODE=production

# =============================================================================
# SECRETS MANAGEMENT (VAULT - MANDATORY)
# =============================================================================
VAULT_ADDR=https://vault.company.com
VAULT_TOKEN=s.xyz123...
VAULT_NAMESPACE=videofoundry

# =============================================================================
# AUTHENTICATION / IAM (MANDATORY)
# =============================================================================
OIDC_PROVIDER_URL=https://keycloak.company.com/realms/videofoundry
OIDC_CLIENT_ID=videofoundry-prod
OIDC_CLIENT_SECRET=<get-from-vault>
ENABLE_IAM=true

# =============================================================================
# STORAGE (S3 - MANDATORY)
# =============================================================================
S3_BUCKET=videofoundry-production
AWS_ACCESS_KEY_ID=<get-from-vault>
AWS_SECRET_ACCESS_KEY=<get-from-vault>
AWS_REGION=us-east-1
USE_S3_STORAGE=true

# =============================================================================
# DATABASE (MANDATORY)
# =============================================================================
DATABASE_URL=postgresql://videofoundry:${DB_PASSWORD}@postgres.internal:5432/videofoundry
POSTGRES_PASSWORD=<get-from-vault>

# =============================================================================
# REDIS (MANDATORY)
# =============================================================================
REDIS_URL=redis://:${REDIS_PASSWORD}@redis.internal:6379/0
REDIS_PASSWORD=<get-from-vault>

# =============================================================================
# RABBITMQ (MANDATORY)
# =============================================================================
RABBITMQ_URL=amqp://${RABBITMQ_USER}:${RABBITMQ_PASSWORD}@rabbitmq.internal:5672/
RABBITMQ_USER=videofoundry
RABBITMQ_PASSWORD=<get-from-vault>
SEGMENT_QUEUE_NAME=segment_generation
COMPOSITION_QUEUE_NAME=video_composition

# =============================================================================
# AI MODEL APIS (FROM VAULT)
# =============================================================================
RUNWAY_API_KEY=<get-from-vault>
STABILITY_API_KEY=<get-from-vault>
COMFYUI_URL=http://comfyui.internal:8188

# =============================================================================
# SECURITY CONFIGURATION (ENFORCED)
# =============================================================================
ENABLE_WORKFLOW_VETTING=true
WORKFLOW_ALLOWLIST_PATH=/config/workflow_allowlist.yaml
ENABLE_NETWORK_ISOLATION=true
DOCKER_RUNTIME=runsc

# =============================================================================
# APPLICATION
# =============================================================================
SECRET_KEY=<get-from-vault>
ENVIRONMENT=production
DEBUG=false
CORS_ORIGINS=https://videofoundry.company.com

# Frontend
FRONTEND_API_URL=https://api.videofoundry.company.com

# =============================================================================
# JWT
# =============================================================================
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=15
